apiVersion: v1
kind: Secret
metadata:
  name: orthanc-g3auto
type: Opaque
stringData:
  orthanc_config_overwrites.json: |
        {
          "AuthenticationEnabled": {{ .Values.secrets.authenticationEnabled }},
          "PostgreSQL": {
            "EnableIndex": {{ .Values.secrets.enableIndex }},
            "EnableStorage": {{ .Values.secrets.enableStorage }},
            "Port": {{ .Values.secrets.port }},
            "Host": {{ .Values.secrets.host | quote }},
            "Database": {{ .Values.secrets.dataBase | quote }},
            "Username": {{ .Values.secrets.userName | quote }},
            "Password": {{ include "dicom.postgres.password" . | quote }},
            "IndexConnectionsCount": {{ .Values.secrets.indexConnectionsCount }},
            "Lock": {{ .Values.secrets.lock }}
          },
          "PythonScript": "/etc/orthanc/authz_filter.py"
        }