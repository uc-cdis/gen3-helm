location /ExplorerConfig/health {
    proxy_connect_timeout 600s;
    proxy_send_timeout 600s;
    proxy_read_timeout 600s;
    send_timeout 600s;

    set $proxy_service  "gecko-health"; # You can name this differently for clarity in logs
    set $upstream http://gecko-service.$namespace.svc.cluster.local;

    rewrite ^/ExplorerConfig/health$ /health break;
    proxy_pass $upstream;
}

location /ExplorerConfig/list {
    proxy_connect_timeout 600s;
    proxy_send_timeout 600s;
    proxy_read_timeout 600s;
    send_timeout 600s;

    set $proxy_service  "gecko-list";
    set $upstream http://gecko-service.$namespace.svc.cluster.local;

    rewrite ^/ExplorerConfig/list /config/list break;
    proxy_pass $upstream$is_args$args;
    client_max_body_size 0;
}


location /ExplorerConfig/ {
    proxy_connect_timeout 600s;
    proxy_send_timeout 600s;
    proxy_read_timeout 600s;
    send_timeout 600s;

    set $proxy_service  "gecko";
    set $upstream http://gecko-service.$namespace.svc.cluster.local;

    rewrite ^/ExplorerConfig/(.*)$ /config/$1 break;
    proxy_pass $upstream$is_args$args;
    client_max_body_size 0;
}