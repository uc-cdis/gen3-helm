# Default values for datareplicate.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.

suspendCronjob: true

# Global configuration
global:
  # -- (map) External Secrets settings.
  externalSecrets:
    # -- (bool) Will use ExternalSecret resources to pull secrets from Secrets Manager instead of creating them locally. Be cautious as this will override secrets you have deployed.
    deploy: true

# -- (map) external secrets for datareplicate jobs
externalSecrets:
  deploy: true
  googleCredsSecret: binamb-gcloud-creds-secret
  awsCredsSecret: jian-dcf-aws-creds-secret
  dcfDataserviceSettingsSecret: binamb-dcf-dataservice-settings-secrets

# -- (map) Resource requests and limits for the containers in the pod
resources:
  # -- (map) The amount of resources that the container requests
  requests:
    # -- (string) The amount of memory requested
    memory: 512Mi
  # -- (map) The maximum amount of resources that the container is allowed to use
  limits:
    # -- (string) The maximum amount of memory the container can use
    memory: 2Gi

image:
# -- (string) Docker repository.
  repository: quay.io/cdis/dcf-dataservice
  # -- (string) Overrides the image tag whose default is the chart appVersion.
  tag: "master"
googleBucketReplicateJob:
  enabled: true
  # -- (bool) Whether to enable the Google bucket replicate job
  schedule: "*/30 * * * *"
  PROJECT: dcf-prod-buckets
  MAX_WORKERS: 80
  RELEASE: DR43
  MANIFEST_FILE: gs://replication-input/GDC_full_sync_active_manifest_20190326_post_DR43.0.tsv
  IGNORED_FILE: gs://replication-input/ignored_files_manifest.csv
  LOG_BUCKET: datarefresh-log
  resources:
  # -- (map) The amount of resources that the container requests
    requests:
      # -- (string) The amount of CPU requested
      cpu: "2"
      # -- (string) The amount of memory requested
      memory: 128Mi
    # -- (map) The maximum amount of resources that the container is allowed to use
    limits:
      # -- (string) The maximum amount of memory the container can use
      memory: 2Gi
awsBucketReplicateJob:
  enabled: true
  schedule: "*/30 * * * *"
  THREAD_NUM: 20
  CHUNK_SIZE: 1
  GDC_BUCKET_NAME: test-gdc-bucket
  LOG_BUCKET: test-data-replication-manifest
  RELEASE: DR43
  QUICK_TEST: true
  MANIFEST_FILE: s3://test-data-replication-manifest/GDC_only_3plusgig_open_active_manifest.tsv
  resources:
    requests:
      cpu: "2"
      memory: 128Mi
    limits:
      memory: 2Gi
